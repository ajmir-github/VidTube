<style>
  .vid-avator{
    width: 100%;
  }
  .vid-avator img{
    width: 32px;
    height: 32px;
  }
  .video-card-container{
    width: 330px;
    height: 255px;
    padding: 0 .2rem .5rem .2rem;
  }
  .video_card{
    width: 100%;
    height: 100%;
    background-color: rgb(50, 50, 50);
    color: white;
    overflow: hidden;
  }
  .video-card-img{
    width: 100%;
    height: 160px;
    object-fit:cover;
    outline: 0;
    border: 0;
  }
  .wrap-word{
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .text-lightgray{
    color: #c8c8c8;
  }
</style>

<div class="container-fluid bg-dark py-5">
  <!-- main row -->
  <div class="row">
    
    <!-- Sidebar -->
    <%-include("./sidebar")%>

    <div class="col-md-9 container-fluid">
      <div class="row justify-content-center flex-wrap mb-4">
        <% videos.forEach(video =>{ %>
          <div class="video-card-container mb-2">
            <div class="video_card">
              <div class="card border-0" style="width:100%">
                <img class="card-img-top rounded video-card-img bg-dark" src="/img/<%= video.thumbnail %>" alt="" srcset="">
                <div class="card-img-overlay d-flex justify-content-center align-items-center">
                  <a href="/video/<%= video._id %>" target="_blank" class="fw-bold btn btn-outline-danger">Watch</a>

                  <% if(typeof auth !== "undefined"){ %>
                    <% if(auth.signedIn && video.channel._id.toString() === auth.theChannel._id.toString()) { %>
                      <div class="btn-group m-1" role="group" aria-label="Basic example">
                        <a href="/profile/video_edit/<%= video._id %>" target="_blank" class="btn fw-bold btn-sm btn-primary">Edit</a>
                      </div>
                    <% } %>
                  <% } %>

                </div>
              </div>

                <a class="my-1 vid-avator d-flex justify-content-start align-items-center btn" href="/channel/<%= video.channel._id %>">
                  <img class="rounded-circle" src="/img/<%= video.channel.channelIcon || channel.channelIcon %>" alt="">
                  <span class="mx-2 wrap-word text-lightgray"><%= video.channel.channelName || channel.channelName %></span>
                </a>

              <h6 class="px-2 wrap-word"><%= video.title %></h6>       
    
              
            </div>
          </div>
        <% }); %>
      </div>

      <% if(typeof page !== "undefined"){ %>
        <!-- pagination row -->
        <div class="d-flex justify-content-center">
          <div class="btn-group" style="width: 300px;">
            <% if(page.current > 1) { %>
              <a class="btn btn-outline-danger" href="?page=<%= page.current - 1 %>">Previous</a>
            <% } %>
            <a class="disabled btn btn-danger" href="#"><%= page.current %></a>
            <% if(page.hasPosts){ %>
              <a class="btn btn-outline-danger" href="?page=<%= page.current + 1 %>">Next</a>
            <% } %>
          </div>
        </div>
      <% } %>

    </div>
  </div>

 
</div>